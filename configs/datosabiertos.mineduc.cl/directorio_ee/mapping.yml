name: "Chilean Schools Mapping"
description: "Mapping configuration for Chilean educational establishments from MINEDUC data"
language: "es"

encoding: "utf-8"
delimiter: ";"
decimal_separator: ","

csv_files:
  - 
    file_path: "data/directorio_2024_lite.csv"
    # https://datosabiertos.mineduc.cl/directorio-de-establecimientos-educacionales/
    encoding: "utf-8"
    delimiter: ";"
    decimal_separator: ","

    update_action: "keep"
    item_mapping:
      - label_column: "NOM_REG_RBD_A"
        description: "Región de Chile"
        statements:
          - 
            property_label: "instancia de"
            value: {"label": "región"}
            datatype: "wikibase-item"
      - 
        label_column: "NOM_COM_RBD"
        description: "Comuna de la región de {NOM_REG_RBD_A}"
        statements:
          - 
            property_label: "instancia de"
            value: {"label": "comuna"}
            datatype: "wikibase-item"
          -
            property_label: "región"
            value: "NOM_REG_RBD_A"
            datatype: "wikibase-item"

      - 
        label_column: "NOM_RBD"
        description: "Colegio de la comuna de {NOM_COM_RBD}"

        statements:
          - 
            property_label: "instancia de"
            value: {label: "establecimiento"}
            datatype: "wikibase-item"
          -
            property_label: "instancia de"
            value: {label: "colegio"}
            datatype: "wikibase-item"
          - 
            property_label: "comuna"
            value: "NOM_COM_RBD"
            datatype: "wikibase-item"
            qualifiers:
              - 
                property_label: "año"
                value: 
                  - {"value": "+2024-01-01T00:00:00Z"}  # time: year value (will be formatted as +YYYY-01-01T00:00:00Z)
                  - {"value": 0}      # timezone: 0
                  - {"value": 9}      # precision: 9 (year precision)
                  - {"value": "http://www.wikidata.org/entity/Q1985727"}  # calendarmodel: Gregorian
                datatype: "time"
          - 
            property_label: "ubicación"
            value: 
              - {"column": "LATITUD"}
              - {"column": "LONGITUD"}
              - {"value": 0}      # precision: 0
              - {"value": "https://www.wikidata.org/entity/Q2"}  # globe: Earth
            datatype: "globe-coordinate"

  -
    file_path: "data/resumen_matricula_ee_2024_lite.csv"
    encoding: "utf-8"
    delimiter: ";"
    decimal_separator: "."

    item_mapping:
      - 
        update_action: "append_or_replace"
        label_column: "NOM_RBD"

        statements:
          - 
            property_label: "personas matriculadas"
            value:
              - {"column": "MAT_HOM_TOT"}
            datatype: "quantity"
            qualifiers:
              - 
                property_label: "año"
                value: 
                  - {"value": "+2024-01-01T00:00:00Z"}
                  - {"value": 0}
                  - {"value": 9}
                  - {"value": "http://www.wikidata.org/entity/Q1985727"}
                datatype: "time"
              -
                property_label: "identificador de género"
                value: {"label": "hombre"}
                datatype: "wikibase-item"
          - 
            property_label: "personas matriculadas"
            value:
              - {"column": "MAT_MUJ_TOT"}
            datatype: "quantity"
            qualifiers:
              - 
                property_label: "año"
                value: 
                  - {"value": "+2024-01-01T00:00:00Z"}
                  - {"value": 0}
                  - {"value": 9}
                  - {"value": "http://www.wikidata.org/entity/Q1985727"}
                datatype: "time"
              -
                property_label: "identificador de género"
                value: {"label": "mujer"}
                datatype: "wikibase-item"
          -
            property_label: "matrículados total"
            value:
              - {"column": "MAT_TOTAL"}
            datatype: "quantity"
            qualifiers:
              - 
                property_label: "año"
                value: 
                  - {"value": "+2024-01-01T00:00:00Z"}
                  - {"value": 0}
                  - {"value": 9}
                  - {"value": "http://www.wikidata.org/entity/Q1985727"}
                datatype: "time"

